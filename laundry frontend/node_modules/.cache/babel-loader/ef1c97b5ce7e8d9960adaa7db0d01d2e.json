{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Poojitha\\\\Desktop\\\\LaundryApp-main\\\\laundry frontend\\\\src\\\\components\\\\Orders\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { getToken } from \"../utils/authOperations\";\nimport \"./index.css\";\nimport { Link } from 'react-router-dom';\nimport React from 'react';\nimport icon from '../../assets/viewicon.png';\nimport warning from '../../assets/warning.jpg';\nimport search from '../../assets/search.png'; // import Moment from 'react-moment';\n// import 'moment-timezone';\n// import dateFormat from 'dateformat';\n\nimport Footer from \"../footer2\";\nimport Header from \"../header2\";\nimport Sidebar from \"../Sidebar2\";\nimport Sidebar1 from \"../sidebar/index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Orders() {\n  _s();\n\n  const [orders, setOrders] = useState([]);\n  const [currindex, setcurrindex] = useState(0);\n  const [cancelid, setcancelid] = useState('');\n  const month = {\n    '01': 'Jan',\n    '02': 'Feb',\n    '03': 'Mar',\n    '04': 'Apr',\n    '05': 'May',\n    '06': 'Jun',\n    '07': 'Jul',\n    '08': 'Aug',\n    '09': 'Sep',\n    '10': 'Oct',\n    '11': 'Nov',\n    '12': 'Dec'\n  };\n\n  async function getOrders() {\n    try {\n      const response = await fetch(\"http://localhost:3070/orders/pastorders\", {\n        method: 'GET',\n        // *GET, POST, PUT, DELETE, etc.\n        mode: 'cors',\n        // no-cors, *cors, same-origin\n        cache: 'no-cache',\n        // *default, no-cache, reload, force-cache, only-if-cached\n        credentials: 'same-origin',\n        // include, *same-origin, omit\n        headers: {\n          'Content-Type': 'application/json',\n          // 'Content-Type': 'application/x-www-form-urlencoded',\n          'Authorization': `Bearer ${getToken()}`\n        },\n        redirect: 'follow',\n        // manual, *follow, error\n        referrerPolicy: 'no-referrer' // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-ur\n\n      });\n      const {\n        data\n      } = await response.json();\n      console.log(data.orders);\n      setOrders(data.orders.reverse());\n      const l = data.orders.length;\n      console.log(l);\n\n      if (l === 0) {\n        window.location.href = '/preorders';\n      }\n    } catch (e) {\n      console.log(e);\n    }\n\n    ;\n  }\n\n  useEffect(() => {\n    getOrders();\n  }, [orders.status]); //component did mount\n\n  async function cancelOrder(id) {\n    try {\n      const response = await fetch(`http://localhost:3070/orders/cancelorder/${id}`, {\n        method: 'PUT',\n        // *GET, POST, PUT, DELETE, etc.\n        mode: 'cors',\n        // no-cors, *cors, same-origin\n        cache: 'no-cache',\n        // *default, no-cache, reload, force-cache, only-if-cached\n        credentials: 'same-origin',\n        // include, *same-origin, omit\n        headers: {\n          'Content-Type': 'application/json',\n          // 'Content-Type': 'application/x-www-form-urlencoded',\n          'Authorization': `Bearer ${getToken()}`\n        },\n        redirect: 'follow',\n        // manual, *follow, error\n        referrerPolicy: 'no-referrer' // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-ur\n\n      });\n      window.location.href = '/orders';\n    } catch (e) {\n      console.log(e);\n    }\n\n    ;\n  }\n\n  function changestate(e) {\n    setcurrindex(parseInt(e.target.id.split('|')[1]) - 1);\n    setcancelid(e.target.id.split('|')[0]);\n  }\n\n  function altcolor(index) {\n    if (index % 2 === 1) {\n      return 'alt';\n    } else {\n      return;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    Style: \"height:708px; width:1345px; \",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-content\",\n        Style: \"width:90%\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"head\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"numorders\",\n            children: [\"Orders  |  \", orders.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: '/createorder',\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"createbtn\",\n              children: \"create\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"searchbardiv\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: search,\n              alt: \"searchicon\",\n              width: \"20\",\n              height: \"20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"headrow\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Order Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Date & Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Store Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"City\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Store Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Total Items\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: orders.map((order, index) => /*#__PURE__*/_jsxDEV(\"tr\", { ...order,\n              className: altcolor(index),\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"row\",\n                children: \"OR000\" + (index + 1).toString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.date.slice(8, 10) + ' ' + month[order.date.slice(5, 7)] + ' ' + order.date.slice(0, 4) + \", \" + order.date.slice(11, 16)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Jp nagar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Banglore\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"+91 9999999999\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.items.reduce((acc, curr) => acc + parseInt(curr.quantity), 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"pricecol\",\n                children: [order.items.reduce((acc, curr) => acc + parseInt(curr.price), 0), \" Rs\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.status === 'cancelled' ? /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"red\",\n                  children: \"cancelled\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 51\n                }, this) : order.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [order.status === \"ready to pickup\" ? /*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"danger\",\n                  \"data-bs-toggle\": \"modal\",\n                  \"data-bs-target\": \"#exampleModal\",\n                  id: order._id.toString() + '|' + (index + 1).toString(),\n                  onClick: e => {\n                    changestate(e);\n                  },\n                  \"data-id\": cancelid,\n                  children: \"cancel order\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 57\n                }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal fade\",\n                  id: \"exampleModal\",\n                  tabindex: \"-1\",\n                  \"aria-labelledby\": \"exampleModalLabel\",\n                  \"aria-hidden\": \"true\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"modal-dialog modal-dialog-centered\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"modal-header\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                          className: \"modal-title\",\n                          id: \"exampleModalLabel\",\n                          children: \"Alert\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 133,\n                          columnNumber: 17\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"btn-close\",\n                          \"data-bs-dismiss\": \"modal\",\n                          \"aria-label\": \"Close\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 134,\n                          columnNumber: 17\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"modal-body\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"warning\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: warning,\n                            alt: \"caution\",\n                            width: \"50\",\n                            height: \"50\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 137,\n                            columnNumber: 42\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 137,\n                          columnNumber: 17\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"message\",\n                          children: [\"Are you sure want to cancel the order No : \", /*#__PURE__*/_jsxDEV(\"b\", {\n                            children: \"OR000\" + (currindex + 1).toString()\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 138,\n                            columnNumber: 85\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 138,\n                          columnNumber: 17\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"modal-footer\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"proceedbtn\",\n                          \"data-dismiss\": \"modal\",\n                          id: cancelid,\n                          onClick: e => {\n                            cancelOrder(e.target.id);\n                          },\n                          children: \"proceed\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 141,\n                          columnNumber: 17\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 140,\n                        columnNumber: 13\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 18\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: icon,\n                  alt: \"icon\",\n                  \"data-bs-toggle\": \"modal\",\n                  \"data-bs-target\": \"#exampleModal2\",\n                  id: (index + 1).toString(),\n                  onClick: e => {\n                    setcurrindex(parseInt(e.target.id) - 1);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 22\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal fade\",\n                  id: \"exampleModal2\",\n                  tabindex: \"-1\",\n                  role: \"dialog\",\n                  \"aria-labelledby\": \"exampleModalLabel\",\n                  \"aria-hidden\": \"true\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"modal-dialog summary-dialog\",\n                    role: \"document\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal-content summary-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"modal-header\",\n                        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                          className: \"modal-title\",\n                          id: \"exampleModalLabel\",\n                          children: \"Summary\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 153,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          className: \"btn-close\",\n                          \"data-bs-dismiss\": \"modal\",\n                          \"aria-label\": \"Close\",\n                          children: /*#__PURE__*/_jsxDEV(\"span\", {\n                            \"aria-hidden\": \"true\",\n                            children: \"\\xD7\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 155,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 154,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"modal-body\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"store\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"storeloc\",\n                            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                              children: \"Store Location\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 160,\n                              columnNumber: 71\n                            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 160,\n                              columnNumber: 92\n                            }, this), \"Jp Nagar\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 160,\n                            columnNumber: 45\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"storeadd\",\n                            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                              children: \"Store Address\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 161,\n                              columnNumber: 71\n                            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 161,\n                              columnNumber: 91\n                            }, this), \"Near phone booth, 10th road\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 161,\n                            columnNumber: 45\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"storephone\",\n                            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                              children: \"Phone\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 162,\n                              columnNumber: 73\n                            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 162,\n                              columnNumber: 85\n                            }, this), \"91 9999999999\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 162,\n                            columnNumber: 45\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 159,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"details\",\n                          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"orderdetails\",\n                            children: [\"Order details\", /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"status\",\n                              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                                children: \"Status\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 166,\n                                columnNumber: 112\n                              }, this), \": \", orders[currindex].status]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 166,\n                              columnNumber: 90\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 166,\n                            columnNumber: 45\n                          }, this), orders[currindex].items.map((prod, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"solo-item\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"solo1\",\n                              children: prod.name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 168,\n                              columnNumber: 84\n                            }, this), \"  \", /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"solo2\",\n                              children: prod.actions.map(action => /*#__PURE__*/_jsxDEV(\"i\", {\n                                children: [action, \",\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 168,\n                                columnNumber: 175\n                              }, this))\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 168,\n                              columnNumber: 126\n                            }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"solo3\",\n                              children: [prod.quantity, \" X \", parseInt(prod.price / prod.quantity), \" = \", /*#__PURE__*/_jsxDEV(\"b\", {\n                                children: prod.price\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 168,\n                                columnNumber: 280\n                              }, this), \" \"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 168,\n                              columnNumber: 200\n                            }, this), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 168,\n                              columnNumber: 307\n                            }, this), \" \"]\n                          }, index, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 168,\n                            columnNumber: 45\n                          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"subtotal\",\n                            children: [\"Sub total: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                              className: \"numbers\",\n                              children: orders[currindex].items.reduce((acc, curr) => acc + parseInt(curr.price), 0) - 90\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 169,\n                              columnNumber: 82\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 169,\n                            columnNumber: 45\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"charges\",\n                            children: [\"Pickup charges: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                              className: \"numbers\",\n                              children: \"90\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 170,\n                              columnNumber: 87\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 170,\n                            columnNumber: 45\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"total\",\n                            children: /*#__PURE__*/_jsxDEV(\"b\", {\n                              className: \"final\",\n                              children: [\"Total:   Rs \", orders[currindex].items.reduce((acc, curr) => acc + parseInt(curr.price), 0)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 171,\n                              columnNumber: 69\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 171,\n                            columnNumber: 45\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 165,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"addressbar\",\n                          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"orderdetails\",\n                            children: \"Address\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 173,\n                            columnNumber: 69\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"address1\",\n                            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                              className: \"numbers\",\n                              children: \"Home\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 175,\n                              columnNumber: 45\n                            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 175,\n                              columnNumber: 76\n                            }, this), \"#223, 10th road, Jp Nagar, Bangalore\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 174,\n                            columnNumber: 41\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 173,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 158,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"modal-footer footer\",\n                        children: orders[currindex].status === \"ready to pickup\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          id: orders[currindex]._id.toString(),\n                          className: \"btn btn-danger\",\n                          \"data-bs-dismiss\": \"modal\",\n                          onClick: e => {\n                            cancelOrder(e.target.id);\n                          },\n                          children: \"Cancel\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 183,\n                          columnNumber: 86\n                        }, this) : null\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 182,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this)]\n            }, order._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Orders, \"xzkH6+Uu0BCXCRdkua81uqnEJec=\");\n\n_c = Orders;\nexport default Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"sources":["C:/Users/Poojitha/Desktop/LaundryApp-main/laundry frontend/src/components/Orders/index.js"],"names":["useEffect","useState","getToken","Link","React","icon","warning","search","Footer","Header","Sidebar","Sidebar1","Orders","orders","setOrders","currindex","setcurrindex","cancelid","setcancelid","month","getOrders","response","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","data","json","console","log","reverse","l","length","window","location","href","e","status","cancelOrder","id","changestate","parseInt","target","split","altcolor","index","map","order","toString","date","slice","items","reduce","acc","curr","quantity","price","_id","prod","name","actions","action"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { getToken } from \"../utils/authOperations\";\r\nimport \"./index.css\";\r\nimport {Link} from 'react-router-dom';\r\nimport React from 'react';\r\nimport icon from '../../assets/viewicon.png';\r\nimport warning from '../../assets/warning.jpg';\r\nimport search from '../../assets/search.png';\r\n// import Moment from 'react-moment';\r\n// import 'moment-timezone';\r\n// import dateFormat from 'dateformat';\r\nimport Footer from \"../footer2\";\r\nimport Header from \"../header2\";\r\nimport Sidebar from \"../Sidebar2\";\r\nimport Sidebar1 from \"../sidebar/index\";\r\n\r\n\r\nfunction Orders() {\r\n    const [orders, setOrders] = useState([]);\r\n    const [currindex, setcurrindex] = useState(0)\r\n    const [cancelid, setcancelid] = useState('')\r\n\r\n    \r\n    const month={'01':'Jan','02':'Feb','03':'Mar','04':'Apr','05':'May','06':'Jun','07':'Jul','08':'Aug','09':'Sep','10':'Oct','11':'Nov','12':'Dec'}\r\n    async function getOrders(){\r\n        try{\r\n            const response= await fetch(\"http://localhost:3070/orders/pastorders\",{\r\n                method: 'GET', // *GET, POST, PUT, DELETE, etc.\r\n                mode: 'cors', // no-cors, *cors, same-origin\r\n                cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n                credentials: 'same-origin', // include, *same-origin, omit\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\r\n                    'Authorization':`Bearer ${getToken()}`,\r\n                    },\r\n                redirect: 'follow', // manual, *follow, error\r\n                referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-ur\r\n            });\r\n            const {data}= await response.json();\r\n            console.log(data.orders);\r\n            setOrders(data.orders.reverse());\r\n            const l=data.orders.length\r\n            console.log(l)\r\n            if(l===0){\r\n                window.location.href='/preorders'\r\n            }\r\n\r\n            \r\n\r\n        }catch(e){\r\n            console.log(e)\r\n        };\r\n\r\n    }\r\n    useEffect(()=>{ getOrders(); }, [orders.status]); //component did mount\r\n\r\n    async function cancelOrder(id){\r\n            try{\r\n            const response= await fetch(`http://localhost:3070/orders/cancelorder/${id}`,{\r\n                method: 'PUT', // *GET, POST, PUT, DELETE, etc.\r\n                mode: 'cors', // no-cors, *cors, same-origin\r\n                cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n                credentials: 'same-origin', // include, *same-origin, omit\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\r\n                    'Authorization':`Bearer ${getToken()}`,\r\n                    },\r\n                redirect: 'follow', // manual, *follow, error\r\n                referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-ur\r\n            });\r\n            window.location.href='/orders';\r\n        }catch(e){\r\n            console.log(e)\r\n        };\r\n        }\r\n    function changestate(e){\r\n        setcurrindex(parseInt((e.target.id).split('|')[1])-1)\r\n        setcancelid((e.target.id).split('|')[0])\r\n\r\n    }\r\n    function altcolor(index){\r\n        if(index%2===1){\r\n            return 'alt'\r\n        }\r\n        else{\r\n            return \r\n        }\r\n    }\r\n    return (\r\n        <div className=\"container-fluid\" Style=\"height:708px; width:1345px; \">\r\n            <Header/>\r\n            <div className=\"content\">\r\n                <Sidebar/>\r\n                <div className=\"right-content\" Style=\"width:90%\">\r\n            <div className='head'>\r\n                <div className='numorders'>Orders  |  {orders.length}</div>\r\n                <Link to={'/createorder'}><button className='createbtn' >create</button></Link>\r\n                <div className='searchbardiv'><img src={search} alt='searchicon' width=\"20\" height=\"20\"></img></div>\r\n            </div>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr className=\"headrow\">\r\n                        <th scope=\"col\">Order Id</th>\r\n                        <th scope=\"col\">Date & Time</th>\r\n                        <th scope=\"col\">Store Location</th>\r\n                        <th scope=\"col\">City</th>\r\n                        <th scope=\"col\">Store Phone</th>\r\n                        <th scope=\"col\">Total Items</th>\r\n                        <th scope=\"col\">Price</th>\r\n                        <th scope=\"col\">Status</th>\r\n                        <th scope=\"col\"></th>\r\n                        <th scope=\"col\">View</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                {orders.map((order,index)=>\r\n                <tr key={order._id} {...order} className={altcolor(index)} >\r\n                <th scope=\"row\">{\"OR000\"+(index+1).toString()}</th>\r\n                <td>{ order.date.slice(8,10)+' '+month[order.date.slice(5,7)]+' '+order.date.slice(0,4)+\", \"+order.date.slice(11,16)}</td>\r\n                <td>Jp nagar</td>\r\n                <td>Banglore</td>\r\n                <td>+91 9999999999</td>\r\n                <td>{order.items.reduce((acc,curr)=> acc+parseInt(curr.quantity),0)}</td>\r\n                <td className='pricecol'>{order.items.reduce((acc,curr)=> acc+parseInt(curr.price),0)} Rs</td>\r\n                <td>{order.status==='cancelled' ? <i className='red'>cancelled</i> : order.status}</td>\r\n                <td>{order.status===\"ready to pickup\" ? <h6 className=\"danger\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" id={order._id.toString()+'|'+(index+1).toString()} onClick={(e)=>{changestate(e)}}  data-id={cancelid}>cancel order</h6> : null}\r\n                 <div className=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog modal-dialog-centered\">\r\n            <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n                <h5 className=\"modal-title\" id=\"exampleModalLabel\">Alert</h5>\r\n                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <div className='warning'><img src={warning} alt=\"caution\" width=\"50\" height=\"50\"/></div>\r\n                <div className=\"message\">Are you sure want to cancel the order No : <b>{\"OR000\"+(currindex+1).toString()}</b></div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                <button type=\"button\" className=\"proceedbtn\" data-dismiss=\"modal\" id={cancelid} onClick={(e)=>{cancelOrder(e.target.id)}}>proceed</button>\r\n            </div>\r\n            </div>\r\n            </div>\r\n            </div>\r\n                </td>\r\n                \r\n                <td ><img src={icon} alt=\"icon\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal2\" id={(index+1).toString()} onClick={(e)=>{setcurrindex(parseInt(e.target.id)-1)}} ></img>\r\n                <div className=\"modal fade\" id=\"exampleModal2\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog summary-dialog\" role=\"document\">\r\n                        <div className=\"modal-content summary-content\">\r\n                            <div className=\"modal-header\">\r\n                                <h5 className=\"modal-title\" id=\"exampleModalLabel\">Summary</h5>\r\n                                <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n                                    <span aria-hidden=\"true\">&times;</span>\r\n                                    </button>\r\n                                    </div>\r\n                                    <div className=\"modal-body\">\r\n                                        <div className=\"store\">\r\n                                            <div className='storeloc'><a>Store Location</a><br />Jp Nagar</div>\r\n                                            <div className='storeadd'><a>Store Address</a><br />Near phone booth, 10th road</div>\r\n                                            <div className='storephone'><a>Phone</a><br />91 9999999999</div>\r\n                                        </div>\r\n                                        {/* <div className='statusbar'>orders[currindex].status</div> */}\r\n                                        <div className='details'>\r\n                                            <small className='orderdetails'>Order details<i className='status'><b>Status</b>: {orders[currindex].status}</i></small>\r\n                                            {orders[currindex].items.map((prod,index)=>\r\n                                            <div className='solo-item' key={index}><div className='solo1'>{prod.name}</div>  <div className='solo2'>{prod.actions.map(action=><i>{action},</i>)}</div> <div className='solo3'>{prod.quantity} X {parseInt(prod.price/prod.quantity)} = <b>{prod.price}</b> </div> <hr></hr> </div>)}\r\n                                            <div className='subtotal'>Sub total: <b className='numbers'>{orders[currindex].items.reduce((acc,curr)=> acc+parseInt(curr.price),0)-90}</b></div>\r\n                                            <div className='charges' >Pickup charges: <b className='numbers'>90</b></div>\r\n                                            <div className='total' ><b className='final'>Total:   Rs {orders[currindex].items.reduce((acc,curr)=> acc+parseInt(curr.price),0)}</b></div>\r\n                                        </div>\r\n                                        <div className='addressbar'><small className='orderdetails'>Address</small>\r\n                                        <div className='address1'>\r\n                                            <b className='numbers'>Home</b><br />\r\n                                            #223, 10th road, Jp Nagar,\r\n                                            Bangalore\r\n                                        </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                    <div className=\"modal-footer footer\">\r\n                                    {orders[currindex].status===\"ready to pickup\" ? (<button type=\"button\" id={orders[currindex]._id.toString()} className=\"btn btn-danger\" data-bs-dismiss=\"modal\" onClick={(e)=>{cancelOrder(e.target.id)}}>Cancel</button>) : null}\r\n                            </div> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                </td>\r\n\r\n\r\n                </tr>   \r\n                )}\r\n                </tbody>\r\n            </table>\r\n            </div>\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders;\r\n"]},"metadata":{},"sourceType":"module"}